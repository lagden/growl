{"version":3,"file":null,"sources":["../node_modules/lagden-utils/src/lib/common/detect.js","../node_modules/lagden-utils/src/lib/extend.js","../node_modules/lagden-utils/src/lib/transition-event.js","../src/index.js"],"sourcesContent":["'use strict';\n\nfunction detect(lista) {\n\tfor (let i = 0; i < lista.length; i++) {\n\t\tif (document.documentElement.style[lista[i][0]] !== undefined) {\n\t\t\treturn lista[i];\n\t\t}\n\t}\n\treturn lista[0];\n}\n\nexport default detect;\n","'use strict';\n\nfunction extend(a, b) {\n\tObject.keys(b).forEach(prop => {\n\t\ta[prop] = b[prop];\n\t});\n\treturn a;\n}\n\nexport default extend;\n","'use strict';\n\nimport detect from './common/detect';\n\nfunction transitionEvent() {\n\tconst VENDOR = [\n\t\t['transition', 'transitionend'],\n\t\t['MozTransition', 'mozTransitionEnd'],\n\t\t['OTransition', 'oTransitionEnd'],\n\t\t['webkitTransition', 'webkitTransitionEnd']\n\t];\n\treturn detect(VENDOR)[1];\n}\n\nexport default transitionEvent;\n","'use strict';\n\nimport {extend, transitionEvent} from 'lagden-utils';\n\nconst transitionEnd = transitionEvent();\n\nclass Growl {\n\tset options(opts = {}) {\n\t\textend(this.opts, opts);\n\t}\n\n\tconstructor(opts = {}) {\n\t\tthis.opts = {\n\t\t\tduration: 7000,\n\t\t\toffset: 10,\n\t\t\tposition: 'right'\n\t\t};\n\n\t\tthis.options = opts;\n\n\t\tthis.items = [];\n\t\tthis.container = document.body;\n\t}\n\n\ttemplate(dados) {\n\t\tconst {title, msg} = dados;\n\t\treturn [\n\t\t\t`<h3 class=\"growl__title\">${title}</h3>`,\n\t\t\t`<p class=\"growl__msg\">${msg}</p>`\n\t\t].join('');\n\t}\n\n\tnotifica(t, m, colorCss = false) {\n\t\tconst offset = [this.opts.offset, this.opts.offset];\n\t\tconst r = {\n\t\t\ttitle: t,\n\t\t\tmsg: m\n\t\t};\n\n\t\tconst last = this.items[this.items.length - 1] || false;\n\t\tif (last) {\n\t\t\toffset[0] = Number(last.getAttribute('data-offset'));\n\t\t\toffset[1] = offset[0] + last.offsetHeight + this.opts.offset;\n\t\t}\n\n\t\tconst item = document.createElement('div');\n\t\titem.addEventListener('click', this, false);\n\t\titem.insertAdjacentHTML('afterbegin', this.template(r));\n\t\titem.style.top = `${offset[1]}px`;\n\t\titem.style[this.opts.position || 'right'] = `${this.opts.offset}px`;\n\t\titem.setAttribute('data-offset', offset[1]);\n\t\titem.classList.add('growl');\n\t\tif (typeof colorCss === 'string') {\n\t\t\titem.classList.add(colorCss);\n\t\t}\n\n\t\tconst docfrag = document.createDocumentFragment();\n\t\tdocfrag.appendChild(item);\n\n\t\tthis.items.push(item);\n\t\tthis.container.appendChild(docfrag);\n\n\t\t// Make sure the initial state is applied.\n\t\twindow.getComputedStyle(item).getPropertyValue('opacity');\n\t\titem.classList.add('growl--show');\n\n\t\titem.tempo = setTimeout(() => {\n\t\t\tthis.animation(null, item);\n\t\t}, this.opts.duration);\n\t}\n\n\tanimation(event, item) {\n\t\tif (event) {\n\t\t\titem = event.currentTarget;\n\t\t}\n\t\tclearTimeout(item.tempo);\n\t\titem.tempo = null;\n\t\titem.addEventListener(transitionEnd, this, false);\n\t\titem.classList.add('growl--remove');\n\t}\n\n\tremove(event, item) {\n\t\tif (event) {\n\t\t\titem = event.currentTarget;\n\t\t}\n\t\titem.removeEventListener('click', this, false);\n\t\titem.removeEventListener(transitionEnd, this, false);\n\t\tconst index = this.items.indexOf(item);\n\t\tif (index !== -1) {\n\t\t\tthis.container.removeChild(this.items[index]);\n\t\t\tthis.items[index] = null;\n\t\t\tthis.items.splice(index, 1);\n\t\t}\n\t}\n\n\thandleEvent(event) {\n\t\tswitch (event.type) {\n\t\t\tcase transitionEnd:\n\t\t\t\tthis.remove(event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\tthis.animation(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n}\n\nexport default Growl;\n"],"names":["let","const"],"mappings":"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"}
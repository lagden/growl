{"version":3,"sources":["../../../es6/growl.js"],"names":[],"mappings":"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","file":"growl.js","sourcesContent":["/* Growl\n * Plugin to show notification like Growl\n * http://lagden.github.io/growl\n * MIT license\n */\n\n'use strict';\n\nimport * as lagdenUtils from 'lagden-utils/dist/index';\n\nconst transitionEnd = lagdenUtils.transitionEvent();\n\nlet instance = null;\n\nif ('assign' in Object === false) {\n\tObject.assign = lagdenUtils.extend;\n}\n\nclass Growl {\n\tconstructor(options = {}) {\n\t\tthis.opts = {\n\t\t\ttarget: document.body,\n\t\t\tduration: 7000,\n\t\t\toffset: 10\n\t\t};\n\t\tObject.assign(this.opts, options);\n\t\tthis.items = [];\n\t\tthis.container = this.opts.target;\n\t}\n\n\ttemplate() {\n\t\treturn [\n\t\t\t'<h3 class=\"theNotification__title\">{title}</h3>',\n\t\t\t'<p class=\"theNotification__msg\">{msg}</p>'\n\t\t].join('');\n\t}\n\n\tnotifica(t, m, colorCss = false) {\n\t\tconst offset = [this.opts.offset, this.opts.offset];\n\t\tconst r = {\n\t\t\ttitle: t,\n\t\t\tmsg: m\n\t\t};\n\n\t\tconst last = this.items[this.items.length - 1] || false;\n\t\tif (last) {\n\t\t\toffset[0] = Number(last.dataset.offset);\n\t\t\toffset[1] = offset[0] + last.offsetHeight + this.opts.offset;\n\t\t}\n\n\t\tconst content = this.template().replace(/\\{(.*?)\\}/g, (a, b) => r[b]);\n\n\t\tconst item = document.createElement('div');\n\t\titem.insertAdjacentHTML('afterbegin', content);\n\t\titem.addEventListener('click', this, false);\n\t\titem.style.top = `${offset[1]}px`;\n\t\titem.style.right = `${this.opts.offset}px`;\n\t\titem.dataset.offset = offset[1];\n\t\titem.classList.add('theNotification');\n\t\tif (typeof colorCss === 'string') {\n\t\t\titem.classList.add(colorCss);\n\t\t}\n\n\t\tconst docfrag = document.createDocumentFragment();\n\t\tdocfrag.appendChild(item);\n\n\t\tthis.items.push(item);\n\t\tthis.container.appendChild(docfrag);\n\n\t\t// Make sure the initial state is applied.\n\t\twindow.getComputedStyle(item).getPropertyValue('opacity');\n\t\titem.classList.add('theNotification--show');\n\n\t\tconst tempo = setTimeout(() => {\n\t\t\tthis.animation(null, item);\n\t\t\tclearTimeout(tempo);\n\t\t}, this.opts.duration);\n\t}\n\n\tanimation(event, item) {\n\t\tif (event) {\n\t\t\titem = event.currentTarget;\n\t\t}\n\t\titem.addEventListener(transitionEnd, this, false);\n\t\titem.classList.add('theNotification--remove');\n\t}\n\n\tremove(event) {\n\t\tconst item = event.currentTarget;\n\t\titem.removeEventListener('click', this, false);\n\t\titem.removeEventListener(transitionEnd, this, false);\n\t\tconst index = this.items.indexOf(item);\n\t\tif (index !== -1) {\n\t\t\tthis.container.removeChild(this.items[index]);\n\t\t\tthis.items.splice(index, 1);\n\t\t}\n\t}\n\n\thandleEvent(event) {\n\t\tswitch (event.type) {\n\t\t\tcase transitionEnd:\n\t\t\t\tthis.remove(event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\tthis.animation(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n}\n\nfunction getInstance(options = {}) {\n\tinstance = instance || new Growl(options);\n\treturn instance;\n}\n\nexport default getInstance;\n"]}